## ğŸ’¬ Add Comment Model with Proper Schema Design

This PR implements the Comment feature with proper REST API design principles and comprehensive relationship management.

### âœ… Changes Made

#### 1. **Comment Model**

- Created `Comment` model with proper fields:
  - `id`: UUID primary key
  - `content`: Comment text
  - `issue_id`: Foreign key to issues (CASCADE delete)
  - `author_id`: Foreign key to users (CASCADE delete)
  - `created_at`: Timestamp
- Added bidirectional relationships:
  - `Comment.issue` â†’ `Issue.comments`
  - `Comment.author` â†’ `User.comments`

#### 2. **Schema Design (REST Best Practices)**

**CommentCreate** - User input only:

```python
class CommentCreate(BaseModel):
    content: str  # Only this field required!
```

- `issue_id`: Extracted from URL path (`POST /issues/{issue_id}/comments`)
- `author_id`: Extracted from auth token (current user)
- `created_at`: Auto-generated by database

**CommentOut** - Complete response with nested data:

```python
class CommentOut(BaseModel):
    id: UUID
    content: str
    issue_id: UUID
    author_id: UUID
    created_at: datetime
    author: UserOut  # Nested author details for frontend
```

#### 3. **Model Relationships**

- `User.comments` - All comments by a user
- `Issue.comments` - All comments on an issue
- Proper `back_populates` for bidirectional access

#### 4. **Database Migrations**

- Migration 1: `a98f77e54d66_added_comments_table.py` - Created comments table
- Migration 2: `a09a519584e7_added_comment_relationships_to_user_and_.py` - Added relationships
- All migrations applied successfully

#### 5. **Documentation Updates**

- Updated `alembic/README.md` with `python -m alembic` usage
- Added Issue #5: "ModuleNotFoundError: No module named 'psycopg2'" solution
- Updated all command examples to use `python -m alembic`
- Added warning about virtual environment issues

#### 6. **Export Updates**

- Updated `app/model/__init__.py` to export `Comment`
- Updated `app/schemas/__init__.py` to export `CommentCreate` and `CommentOut`

### ğŸ¯ Design Decisions

**Why CommentCreate only has content?**

- Follows REST principles - URL contains resource context
- Prevents security issues (users can't fake author_id)
- Cleaner API: `POST /issues/{issue_id}/comments` with `{"content": "..."}`

**Why nested author in CommentOut?**

- Frontend needs author name/email for display
- Avoids N+1 query problem
- Single API call returns complete data

### ğŸ“ API Usage Example

**Create Comment:**

```python
POST /issues/{issue_id}/comments
Headers: Authorization: Bearer <token>
Body: {"content": "Great issue!"}

Response: {
    "id": "uuid",
    "content": "Great issue!",
    "issue_id": "uuid",
    "author_id": "uuid",
    "created_at": "2026-01-11T17:30:00",
    "author": {
        "id": "uuid",
        "email": "user@example.com",
        "full_name": "John Doe"
    }
}
```

### ğŸ› Fixes

- Fixed virtual environment issue with Alembic commands
- Added comprehensive troubleshooting guide in README
- Proper CASCADE delete for orphaned comments

### ğŸ§ª Testing

- âœ… Migrations created and applied successfully
- âœ… Current version: `a09a519584e7 (head)`
- âœ… All relationships properly configured
- âœ… Schema validation working correctly

### ğŸ“š Related Files

- `app/model/model.py` - Comment model and relationships
- `app/schemas/schemas.py` - CommentCreate and CommentOut schemas
- `app/model/__init__.py` - Export Comment
- `app/schemas/__init__.py` - Export Comment schemas
- `alembic/README.md` - Updated documentation
- `alembic/versions/a98f77e54d66_*.py` - Comments table migration
- `alembic/versions/a09a519584e7_*.py` - Relationships migration

### ğŸ”— Dependencies

Requires Alembic setup from previous PRs

### ğŸ“‹ Next Steps

After merging, implement:

- `POST /issues/{issue_id}/comments` endpoint
- `GET /issues/{issue_id}/comments` endpoint
- `DELETE /comments/{comment_id}` endpoint
